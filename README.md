# 🎤 Local Web Transcriber (日本語特化版)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.11+](https://img.shields.io/badge/python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=flat&logo=docker&logoColor=white)](https://www.docker.com/)
[![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=flat&logo=fastapi)](https://fastapi.tiangolo.com/)
[![日本語対応](https://img.shields.io/badge/言語-日本語完全対応-red.svg)](https://github.com/yourusername/local-web-transcriber-improved)

**日本語大好き人間のための、Whisper音声・動画文字起こしWebアプリケーション**

## **🎯 全部日本語であってほしい人向けです**
- **完全日本語UI**で迷わず操作
- **日本語最適化**で高精度な文字起こし
- **分かりやすい設定項目**と説明
- **日本語の言語的特徴**を考慮した処理
- **100%ローカル処理**でデータが外部に送信されない
- **議事録地獄**からの解放

## 🚀 **主な機能**

### 🎤 **日本語文字起こし**
- **OpenAI Whisper**: メインの文字起こし機能
- **複数モデル対応**: ポチポチによる精度・速度の変更可能
- **リアルタイム進捗**: 処理状況がわかるといいですよね
- **多様な入力形式**: 音声・動画ファイル両方に対応（動画は未検証）

### 🔒 **プライバシー**
- **完全ローカル処理**: 音声データは外部に流出させません
- **セキュア設計**: ファイル検証、不正アクセス防止
- **自動削除**: デフォルトでは24時間後に消えます（設定で変更可能）
- **暗号化対応**: HTTPS通信でデータ保護も可能（どうするかは調べてください）

### ⚡ **使用したい人はたくさんいるはず**
- **Docker化**: 簡単導入
- **リソース最適化**: メモリ・CPU使用量を効率的に管理しているかもしれません
- **自動復旧**: エラー時の自動回復機能は動作しているか不明です
- GPU搭載していなくても**自宅のPC**に導入して活用（むしろ、開発者本人がGPU使用してのテストしていません）

## **出力形式**
| 形式 | 用途 |
|------|------|
| **TXT** | テキスト編集 |
| **SRT** | 動画字幕 |
| **VTT** | Web字幕 | 
| **JSON** | データ分析 |

## 🚀 **かんたんスタートガイド**

### **必要な環境**
- Docker & Docker Compose
- 4GB以上のメモリ（推奨：8GB以上）
- 一般的なブラウザ（Edge,Chromeなど）

### **1. プロジェクトの取得**
```bash
git clone https://github.com/ornongk/local-web-transcriber-improved.git
cd local-web-transcriber-improved
```

### **2. 日本語環境設定**
```bash
# 基本環境セットアップ（ディレクトリ作成 + .env作成）
make setup

# ※ 上記で.env.templateから.envが自動作成されます

# 日本語環境に最適化された設定を確認
cat .env | head -10
```

**📋 作成される.envファイルの主要設定:**
```bash
# === 日本語特化設定 ===
MODEL_ID=base                    # 日本語認識に最適
DEFAULT_LANGUAGE=ja              # ← 日本語がデフォルト
DEFAULT_TASK=transcribe          # 文字起こしモード
COMPUTE_TYPE=int8                # 高速処理

# === リソース設定 ===
MEMORY_LIMIT=4G                  # メモリ制限
MAX_WORKERS=2                    # 並列処理数
TIMEZONE=Asia/Tokyo              # 日本のタイムゾーン
```

**🔧 カスタマイズが必要な場合:**
```bash
# 設定ファイルを編集
nano .env

# 変更例：
# - より高精度にしたい → MODEL_ID=large-v3
# - メモリが少ない → MEMORY_LIMIT=2G
# - 高速処理重視 → MODEL_ID=tiny
```

### **3. アプリケーション起動**
```bash
# ビルドと起動
make build
make run

# 起動確認
make health-check

# 日本語ページにアクセス
open http://localhost:7860
```

**🎉 簡単でしょ**

### **4. 初回起動後の確認事項**
```bash
# システム状態確認
make status

# ログ確認（問題がないか）
make logs-app | head -20

# モデル読み込み状況確認
curl http://localhost:7860/api/models
```

**✅ 正常起動の確認ポイント:**
- ブラウザで http://localhost:7860 にアクセス
- 「🤖 モデル設定」で現在のモデルが「base / int8」と表示される
- 「📁 新規文字起こし」でファイル選択ができる
- コンソールでエラーが出ていない

## 🎯 **使い方**

### **基本的な文字起こし手順**
1. **ファイル選択**: 音声・動画ファイルをドラッグ＆ドロップ
2. **言語確認**: 自動的に日本語が選択される
3. **開始**: 「🚀 文字起こし開始」ボタンをクリック
4. **結果取得**: TXT、SRT、VTT形式で日本語文字起こし結果をダウンロード

### **日本語特有の設定**
```bash
# 日本語に最適化された推奨設定
MODEL_ID=base          # 日本語認識に最適
COMPUTE_TYPE=int8      # 高速処理
DEFAULT_LANGUAGE=ja    # 日本語デフォルト
```

## 🔧 **日本語環境での運用**

### **よく使われるコマンド**
```bash
make help              # 日本語ヘルプ表示
make status            # 状態確認（日本語表示）
make logs              # 日本語ログ表示
make health-check      # 動作確認
```

### **トラブルシューティング（日本語）**
```bash
# 文字化けが発生した場合
export LANG=ja_JP.UTF-8

# 日本語ファイル名が正しく表示されない場合
make fix-encoding

# ログを日本語で確認
make logs-app | grep "日本語"
```

## 🌐 **参考**

### **利用シーン**
| シーン | メリット | 推奨設定 |
|--------|----------|----------|
| **ビジネス会議** | 議事録作成の効率化 | base/int8 |
| **学術研究** | インタビュー分析 | medium/float16 |
| **コンテンツ制作** | 字幕・テロップ作成 | large-v3/float16 |
| **語学学習** | 発音・聞き取り練習 | small/int8 |
| **法務・医療** | 高精度な記録作成 | large-v3/float32 |

## 📈 **パフォーマンス（おおよそ）**

### **推奨システム構成**
| 用途 | CPU | メモリ | ストレージ | モデル推奨 |
|------|-----|--------|------------|------------|
| **軽量利用** | 2コア | 4GB | 10GB | tiny/base |
| **標準利用** | 4コア | 8GB | 20GB | small/medium |
| **高精度利用** | 8コア+ | 16GB+ | 50GB | large-v3 |
| **業務利用** | 8コア+ | 32GB+ | 100GB | large-v3 |

### **処理速度の目安**
| モデル | 1分の音声 | 10分の音声 | 1時間の音声 |
|--------|-----------|------------|-------------|
| **tiny** | 約10秒 | 約1.5分 | 約10分 |
| **base** | 約20秒 | 約3分 | 約20分 |
| **small** | 約45秒 | 約7分 | 約45分 |
| **medium** | 約1.5分 | 約15分 | 約1.5時間 |
| **large-v3** | 約3分 | 約30分 | 約3時間 |

## **よくある質問**
- **Q**: 関西弁も認識できますか？
- **A**: はい、関西弁も高精度で認識できます。

- **Q**: 敬語が正しく文字起こしされますか？
- **A**: はい、ビジネス敬語も適切に認識・表記されます。

- **Q**: 専門用語（医療・法務）は対応していますか？
- **A**: コンテキストから判断して、多くの専門用語を正しく認識します。（ただし、large以上に限る）

---

## 🎌 **「日本語で、日本語のために作られた」文字起こしサービス**

**このアプリケーションは、日本語ユーザーが本当に使いやすい文字起こしサービスを目指して開発されました。**

### **🎯 こんな方におすすめ**
- 英語ベースのサービスで操作に困っていた方
- 日本語の文字起こし精度に不満があった方
- プライバシーを重視してローカル処理したい方
- 日本語環境で安定して動作するツールをお探しの方
- 議事録を生成AIに要約してもらう前段階の状態の準備がしたくてもできなかった人

---

**📝 ライセンス**: MIT License | **🌟 貢献歓迎** | **🇯🇵 Made with ❤️ for Japanese Users**
